## 作业一：redis与memcache的区别及应用场景

### 区别：

​	1.存储大小不同：memcache单个key-value大小有限，一个value最大只支持1MB，key 最大250个字符，而Redis最大支持512MB。

​	2.数据类型不同：redis在数据支持上要比memecache多的多，Redis除key/value之外，还支持list,set,sorted set,hash等众多数据结构。

​	3.数据存放不同：Redis和Memcache都是将数据存放在内存中，都是内存数据库。不过memcache还可用于缓存其他东西，例如图片、视频等等 。

​	4.是否支持数据持久化：redis支持数据持久化，redis有部份存在硬盘上，这样能保证数据的持久性；memcache不支持数据持久化，断电就要重启。 

​	5.虚拟内存:Redis当物理内存用完时，可以将一些很久没用到的value 交换到磁盘 .

### 应用场景：

​	1.对于key-value这样简单的数据储存，memcache的内存使用率更高。如果采用hash结构，redis的内存使用率会更高。

​	2.数据持久化和主从复制时，只有redis拥有这两个特性。如果目标是构建一个缓存在升级或者重启后之前的数据不会丢失的话，那也只能选择redis。

​	3.如果需要缓存的数据只是key-value这样简单的结构时，采用memcache，它也足够的稳定可靠。如果涉及到存储，排序等一系列复杂的操作时，毫无疑问选择redis。

​	4.由于Redis只使用单核，而Memcached可以使用多核，所以在比较上，平均每一个核上Redis在存储小数据时比Memcached性能更高。而在100k以上的数据中，Memcached性能要高于Redis。

​	因此，有持久化需求或者对数据结构和处理有高级要求的应用，选择redis，其他简单的key/value存储，选择memcache。



## 作业二：redis和MongoDB区别

### 区别：

​	1.两个性能都比较高，但是TPS方面redis要大于mongodb 。

​	2.MongoDB适合大数据量存储,依赖系统虚拟内存,采用镜像文件存储;内存占用率比较高,官方建议独立部署在64位系统，Redis2.0后支持虚拟内存特性(VM) 突破物理内存限制;数据可以设置时效性,类似于memcache 。

​	3.MongoDB有丰富的数据表达,索引;最类似于关系型数据库,支持丰富的查询语句，redis数据丰富,较少的IO 。

​	4.MongoDB支持master-slave,replicatset(内部采用paxos选举算法,自动故障恢复),auto sharding机制,对客户端屏蔽了故障转移和切片机制，redis依赖客户端来实现分布式读写;主从复制时,每次从节点重新连接主节点都要依赖整个快照,无增量复制;不支持auto sharding,需要依赖程序设定一致性hash机制 。

​	5.MongoDB内置数据分析功能，redis不支持数据分析 。

​	6.MongoDB海量数据的访问效率提升，相比之下redis较小数据量的性能和运算 。

​	7.MongoDB从1.8版本后,采用binlog方式(类似Mysql) 支持持久化，redis依赖快照进行持久化;AOF增强可靠性;增强性的同时,影响访问性能 "。

### 应用场景：

​	1.当TPS(每秒传输的事物处理个数)非常高的时候，可以用到redis中数据持久化和分布式锁的内容，通过redis数据持久化，我们可以将缓存的数据保存到本地中来。此时使用redis较好。

​	2.当拥有海量数据但要求有限查询时间可以采用mongodb中的分片来实现，通过mongodb的分片机制，我们可以将海量的数据查询分别负载到不同的分片服务器上面，最后将数据查询的数据结果整合到一起。基于这种情况，不管数据量有多大，我们都可以实现快速的查询功能，查询时间约等于（数据量/分片数量）。分片其实本身就是一种高可用性的方案，因为每一个分片都保留着完整的一份数据，每次插入数据的时候，先插入一个主分片中，然后同步复制到所有从分片中，即使一个分片挂了，其余分片也能自动升级为主分片，继续工作。

 

